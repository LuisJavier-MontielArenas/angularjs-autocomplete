<!DOCTYPE html>
<html>
  <head>
    <title>test</title>
    <script src="lib/angular.js"></script>
    <script src="directives/auto-complete.js"></script>
    <script src="directives/auto-complete-div.js"></script>
    <script src="services/auto-complete.js"></script>
    <script>
      angular.module('myApp', ['angular-autocomplete']).controller('MyCtrl', function($scope) {
        $scope.source1 = ["this", "is", "array", "of", "text"]; 
        $scope.source2 = [{id:1, value:'One'}, {id:2, value:'Two'}, {id:3, value:'Three'}, {id:4, value:'Four'}];
        $scope.source3 = [{key:1, text:'One'}, {key:2, text:'Two'}, {key:3, text:'Three'}, {key:4, text:'Four'}];
        $scope.callback = function(arg) {
          console.log('value selected by autocomplete: ', arg);
        };
        $scope.foo3 = ["is"];
        $scope.foo4 = [{"id":2,"value":"Awsome"}];
        $scope.foo5 = [{"key":4,"text":"Autocomplete"}];
      }).directive('printSource', function(){
        return function(scope, element, attrs) {
          element[0].innerHTML = '<pre>'+document.querySelector(attrs.printSource).outerHTML.replace(/</g, '&lt;')+'</pre>';
        };
      });
    </script>
    <style>
      input[auto-complete] {width: 300px; height: 30px}
      select[auto-complete] {width: 300px; height: 30px; -webkit-appearance: menulist-button;}
      select[auto-complete][multiple] ~ div {width: 300px; }
    </style>
  </head>

  <body ng-app="myApp" ng-controller="MyCtrl">
    
    <div>
      <h3>SELECT[multiple] / primitive array:</h3>
      <br/>ng-model foo3:  <b>{{ foo3 }}</b>
      <br/>source: {{ source1 }} <br/>
      <div print-source='#sp'></div>
      <select id='sp' auto-complete ng-model="foo3" source="source1" multiple
        value-changed="callback(value)"></select>
    </div>

    <div>
      <h3>SELECT[multiple] / hash(id/value):</h3>
      <br/>ng-model foo4:  <b>{{ foo4 }}</b> 
      <br/>source: {{ source2 }} <br/>
      <div print-source='#sh'></div>
      <select id='sh' auto-complete ng-model="foo4" source="source2" multiple
        value-changed="callback(value)"></select>
    </div>

    <div>
      <h3>SELECT[multiple] / hash(custom/custom):</h3>
      <br/>ng-model foo5: <b>{{ foo5 }}</b>
      <br/>source: {{ source3 }} <br/>
      <div print-source='#sh2'></div>
      <select id='sh2' auto-complete multiple
        ng-model="foo5"
        source="source3" 
        value-property="key" 
        display-property="text" 
        value-changed="callback(value)"></select>
    </div>
  </body>
</html>
